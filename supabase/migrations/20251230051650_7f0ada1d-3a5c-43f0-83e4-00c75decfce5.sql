-- Add new columns to manual_invoice_content for template matching
ALTER TABLE manual_invoice_content
ADD COLUMN IF NOT EXISTS header_color_primary TEXT DEFAULT '#0369a1',
ADD COLUMN IF NOT EXISTS header_color_secondary TEXT DEFAULT '#0ea5e9',
ADD COLUMN IF NOT EXISTS show_header_stripe BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS header_stripe_height INTEGER DEFAULT 12,
ADD COLUMN IF NOT EXISTS icon_maps_url TEXT,
ADD COLUMN IF NOT EXISTS icon_whatsapp_url TEXT,
ADD COLUMN IF NOT EXISTS icon_email_url TEXT,
ADD COLUMN IF NOT EXISTS icon_website_url TEXT,
ADD COLUMN IF NOT EXISTS bank_logo_url TEXT,
ADD COLUMN IF NOT EXISTS show_watermark BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS watermark_text TEXT DEFAULT 'DRAFT',
ADD COLUMN IF NOT EXISTS watermark_opacity INTEGER DEFAULT 10,
ADD COLUMN IF NOT EXISTS watermark_type TEXT DEFAULT 'text',
ADD COLUMN IF NOT EXISTS verification_qr_link TEXT,
ADD COLUMN IF NOT EXISTS qr_position TEXT DEFAULT 'bottom-section',
ADD COLUMN IF NOT EXISTS qr_size INTEGER DEFAULT 80,
ADD COLUMN IF NOT EXISTS show_verification_qr BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS stamp_position_x INTEGER DEFAULT 10,
ADD COLUMN IF NOT EXISTS stamp_position_y INTEGER DEFAULT 70,
ADD COLUMN IF NOT EXISTS stamp_rotation INTEGER DEFAULT 0,
ADD COLUMN IF NOT EXISTS stamp_scale DECIMAL DEFAULT 1,
ADD COLUMN IF NOT EXISTS stamp_opacity INTEGER DEFAULT 80,
ADD COLUMN IF NOT EXISTS signature_position TEXT DEFAULT 'right',
ADD COLUMN IF NOT EXISTS show_terbilang BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS company_info_color TEXT DEFAULT '#4b5563',
ADD COLUMN IF NOT EXISTS table_header_bg TEXT DEFAULT '#f3f4f6',
ADD COLUMN IF NOT EXISTS table_header_text_color TEXT DEFAULT '#374151',
ADD COLUMN IF NOT EXISTS font_family TEXT DEFAULT 'default',
ADD COLUMN IF NOT EXISTS heading_font_family TEXT DEFAULT 'default',
ADD COLUMN IF NOT EXISTS font_size_base INTEGER DEFAULT 14;

-- Add new columns to manual_receipt_content for template matching
ALTER TABLE manual_receipt_content
ADD COLUMN IF NOT EXISTS header_color_primary TEXT DEFAULT '#0369a1',
ADD COLUMN IF NOT EXISTS header_color_secondary TEXT DEFAULT '#0ea5e9',
ADD COLUMN IF NOT EXISTS show_header_stripe BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS header_stripe_height INTEGER DEFAULT 12,
ADD COLUMN IF NOT EXISTS icon_maps_url TEXT,
ADD COLUMN IF NOT EXISTS icon_whatsapp_url TEXT,
ADD COLUMN IF NOT EXISTS icon_email_url TEXT,
ADD COLUMN IF NOT EXISTS icon_website_url TEXT,
ADD COLUMN IF NOT EXISTS bank_logo_url TEXT,
ADD COLUMN IF NOT EXISTS show_watermark BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS watermark_text TEXT DEFAULT 'DRAFT',
ADD COLUMN IF NOT EXISTS watermark_opacity INTEGER DEFAULT 10,
ADD COLUMN IF NOT EXISTS watermark_type TEXT DEFAULT 'text',
ADD COLUMN IF NOT EXISTS verification_qr_link TEXT,
ADD COLUMN IF NOT EXISTS qr_position TEXT DEFAULT 'bottom-section',
ADD COLUMN IF NOT EXISTS qr_size INTEGER DEFAULT 80,
ADD COLUMN IF NOT EXISTS show_verification_qr BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS stamp_position_x INTEGER DEFAULT 10,
ADD COLUMN IF NOT EXISTS stamp_position_y INTEGER DEFAULT 70,
ADD COLUMN IF NOT EXISTS stamp_rotation INTEGER DEFAULT 0,
ADD COLUMN IF NOT EXISTS stamp_scale DECIMAL DEFAULT 1,
ADD COLUMN IF NOT EXISTS stamp_opacity INTEGER DEFAULT 80,
ADD COLUMN IF NOT EXISTS signature_position TEXT DEFAULT 'right',
ADD COLUMN IF NOT EXISTS show_terbilang BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS company_info_color TEXT DEFAULT '#4b5563',
ADD COLUMN IF NOT EXISTS table_header_bg TEXT DEFAULT '#f3f4f6',
ADD COLUMN IF NOT EXISTS table_header_text_color TEXT DEFAULT '#374151',
ADD COLUMN IF NOT EXISTS font_family TEXT DEFAULT 'default',
ADD COLUMN IF NOT EXISTS heading_font_family TEXT DEFAULT 'default',
ADD COLUMN IF NOT EXISTS font_size_base INTEGER DEFAULT 14;